// Mixed Directed/Undirected Edges Test
// What happens when a graph has BOTH -> and <> edges?

// Test 1: Simple mixed graph
// A -> B (directed, one-way street)
// B <> C (undirected, two-way street)
let mixed1 = network([
    A -> B: {weight: 1},
    B <> C: {weight: 2}
])

// Can we go from A to C?
let a_to_c = dijkstra(mixed1, "A", "C")
a_to_c
// Expected: A->B->C with distance 3

// Can we go from C to A?
let c_to_a = dijkstra(mixed1, "C", "A")
c_to_a
// Expected: C->B (via undirected) but then B to A?
// B->A doesn't exist (A->B is directed only)
// So this should be: found = false

// Test 2: More complex mixed scenario
// Modeling real world: some one-way streets, some two-way
let city = network([
    Home -> Work: {weight: 5},      // One-way commute route (highway)
    Work <> Store: {weight: 2},     // Two-way street
    Store <> Home: {weight: 3}      // Two-way street
])

// Going to work directly
let home_to_work = dijkstra(city, "Home", "Work")
home_to_work
// Expected: Home->Work, distance 5 (direct one-way)

// Coming back from work
let work_to_home = dijkstra(city, "Work", "Home")
work_to_home
// Expected: Work->Store->Home, distance 5
// Cannot use Work->Home (doesn't exist, only Home->Work)

// Test 3: Shortcut analysis
let mixed_shortcut = network([
    S -> A: {weight: 10},           // Directed (one-way toll road)
    S <> B: {weight: 3},            // Undirected (two-way local road)
    B <> A: {weight: 3},            // Undirected (two-way local road)
    A -> T: {weight: 1}             // Directed (one-way exit)
])

// S to T
let s_to_t = dijkstra(mixed_shortcut, "S", "T")
s_to_t
// Expected: S->B->A->T, distance 7
// Better than S->A->T = 11

// T to S (reverse direction)
let t_to_s = dijkstra(mixed_shortcut, "T", "S")
t_to_s
// Expected: No path!
// T->A doesn't exist (A->T is directed)
// So found should be false

// Test 4: Cycle with mixed edges
let mixed_cycle = network([
    A -> B: {weight: 1},
    B <> C: {weight: 1},
    C -> A: {weight: 1}
])

// Does has_cycle detect this?
has_cycle(mixed_cycle)
// Expected: true (forms a cycle)

// Can we traverse it?
dijkstra(mixed_cycle, "A", "C")
dijkstra(mixed_cycle, "C", "A")
