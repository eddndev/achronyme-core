// Dijkstra Algorithm Validation Suite
// Each test prints the result for manual verification

// ============================================================================
// Test 1: Basic shortest path (from textbook example)
// ============================================================================
let test1 = network([
    A -> B: {weight: 1},
    A -> C: {weight: 5},
    B -> D: {weight: 2},
    C -> D: {weight: 1}
])

let r1 = dijkstra(test1, "A", "D")
// Expected: path = [A, B, D], distance = 3
r1

// ============================================================================
// Test 2: Avoiding greedy trap
// ============================================================================
let test2 = network([
    S -> A: {weight: 1},
    S -> B: {weight: 4},
    A -> B: {weight: 2},
    A -> C: {weight: 5},
    B -> C: {weight: 1}
])

let r2 = dijkstra(test2, "S", "C")
// Expected: path = [S, A, B, C], distance = 4
// NOT [S, A, C] = 6
// NOT [S, B, C] = 5
r2

// ============================================================================
// Test 3: Multiple equal paths
// ============================================================================
let test3 = network([
    Start -> A: {weight: 2},
    Start -> B: {weight: 2},
    A -> End: {weight: 3},
    B -> End: {weight: 3}
])

let r3 = dijkstra(test3, "Start", "End")
// Expected: distance = 5 (either path is valid)
r3

// ============================================================================
// Test 4: Complex with many nodes
// ============================================================================
let test4 = network([
    S -> A: {weight: 7},
    S -> B: {weight: 2},
    S -> C: {weight: 3},
    A -> D: {weight: 4},
    B -> A: {weight: 3},
    B -> D: {weight: 8},
    C -> B: {weight: 1},
    C -> E: {weight: 7},
    D -> E: {weight: 2},
    E -> T: {weight: 1}
])

let r4 = dijkstra(test4, "S", "T")
// Expected: path = [S, C, B, A, D, E, T], distance = 14
// S->C: 3, C->B: 1, B->A: 3, A->D: 4, D->E: 2, E->T: 1
r4

// ============================================================================
// Test 5: Undirected graph (bidirectional)
// ============================================================================
let test5 = network([
    A <> B: {weight: 4},
    A <> C: {weight: 2},
    B <> C: {weight: 1},
    B <> D: {weight: 5},
    C <> D: {weight: 8},
    D <> E: {weight: 2}
])

let r5a = dijkstra(test5, "A", "E")
// Expected: A->C->B->D->E = 2+1+5+2 = 10
r5a

let r5b = dijkstra(test5, "E", "A")
// Should be same distance due to undirected edges
r5b

// ============================================================================
// Test 6: Triangle inequality
// ============================================================================
let test6 = network([
    X -> Y: {weight: 10},
    X -> Z: {weight: 3},
    Z -> Y: {weight: 4}
])

let r6 = dijkstra(test6, "X", "Y")
// Expected: path = [X, Z, Y], distance = 7
r6

// ============================================================================
// Test 7: Fractional weights
// ============================================================================
let test7 = network([
    A -> B: {weight: 0.5},
    B -> C: {weight: 0.7},
    C -> D: {weight: 0.3},
    A -> D: {weight: 2.0}
])

let r7 = dijkstra(test7, "A", "D")
// Expected: path = [A, B, C, D], distance = 1.5
r7

// ============================================================================
// Test 8: Dense graph
// ============================================================================
let test8 = network([
    N1 -> N2: {weight: 2},
    N1 -> N3: {weight: 4},
    N2 -> N3: {weight: 1},
    N2 -> N4: {weight: 7},
    N3 -> N4: {weight: 3},
    N1 -> N4: {weight: 15}
])

let r8 = dijkstra(test8, "N1", "N4")
// Expected: path = [N1, N2, N3, N4], distance = 6
// N1->N2: 2, N2->N3: 1, N3->N4: 3
r8

// ============================================================================
// Test 9: Long chain vs shortcut
// ============================================================================
let test9 = network([
    Start -> A: {weight: 1},
    A -> B: {weight: 1},
    B -> C: {weight: 1},
    C -> D: {weight: 1},
    D -> End: {weight: 1},
    Start -> Shortcut: {weight: 2},
    Shortcut -> End: {weight: 2}
])

let r9 = dijkstra(test9, "Start", "End")
// Expected: path through shortcut, distance = 4
// Chain would be: 5
r9

// ============================================================================
// Test 10: Disconnected - no path
// ============================================================================
let test10 = network([
    A -> B: {weight: 1},
    C -> D: {weight: 1}
])

let r10 = dijkstra(test10, "A", "D")
// Expected: found = false, path = [], distance = inf
r10
